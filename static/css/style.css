/* ==========================================
   Karaoke Lover â€” Premium Dark Theme
   ========================================== */

@import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800;900&display=swap');

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

:root {
  --bg:         #07070e;
  --glass:      rgba(255,255,255,0.04);
  --glass-border: rgba(255,255,255,0.08);
  --glass-hover:  rgba(255,255,255,0.07);
  --p1:         #9333EA;
  --p2:         #EC4899;
  --p3:         #06B6D4;
  --grad:       linear-gradient(135deg, #9333EA, #EC4899);
  --grad-h:     linear-gradient(135deg, #7E22CE, #DB2777);
  --grad-3:     linear-gradient(135deg, #9333EA, #EC4899, #06B6D4);
  --text:       #eeeef8;
  --muted:      #7878a0;
  --border:     rgba(255,255,255,0.07);
  --radius:     16px;
  --radius-sm:  10px;
  --shadow:     0 8px 32px rgba(0,0,0,0.6);
  --glow:       0 0 40px rgba(147,51,234,0.2);
  --glow-hot:   0 0 60px rgba(147,51,234,0.4);
  --transition: 0.2s ease;
}

html { scroll-behavior: smooth; }

body {
  background: var(--bg);
  color: var(--text);
  font-family: 'Outfit', -apple-system, BlinkMacSystemFont, sans-serif;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  overflow-x: hidden;
}

/* everything sits above the background layers */
header, section, footer, .loading-overlay,
.empty-state, .error-state, .results-section { position: relative; z-index: 1; }

.section-wrap { max-width: 1120px; margin: 0 auto; padding: 0 24px; }

/* scrollbar */
::-webkit-scrollbar { width: 5px; height: 5px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: rgba(147,51,234,0.4); border-radius: 4px; }

/* ==========================================
   ANIMATED BACKGROUND
   ========================================== */

.bg-orbs {
  position: fixed; inset: 0; z-index: 0;
  pointer-events: none; overflow: hidden;
}

.orb {
  position: absolute;
  border-radius: 50%;
  filter: blur(80px);
  animation: orb-float 18s ease-in-out infinite alternate;
}

.orb1 {
  width: 700px; height: 500px;
  background: radial-gradient(circle, rgba(147,51,234,0.12), transparent 70%);
  top: -150px; left: -100px;
  animation-duration: 20s;
}
.orb2 {
  width: 500px; height: 600px;
  background: radial-gradient(circle, rgba(236,72,153,0.09), transparent 70%);
  top: 30%; right: -150px;
  animation-duration: 15s; animation-delay: -5s;
}
.orb3 {
  width: 600px; height: 400px;
  background: radial-gradient(circle, rgba(6,182,212,0.07), transparent 70%);
  bottom: 0; left: 30%;
  animation-duration: 25s; animation-delay: -10s;
}

@keyframes orb-float {
  0%   { transform: translate(0,0) scale(1); }
  33%  { transform: translate(-30px, 20px) scale(1.05); }
  66%  { transform: translate(20px, -30px) scale(0.95); }
  100% { transform: translate(-10px, 15px) scale(1.02); }
}

.bg-grid {
  position: fixed; inset: 0; z-index: 0;
  pointer-events: none;
  background-image:
    linear-gradient(rgba(147,51,234,0.025) 1px, transparent 1px),
    linear-gradient(90deg, rgba(147,51,234,0.025) 1px, transparent 1px);
  background-size: 60px 60px;
}

/* ==========================================
   FLOATING PARTICLES
   ========================================== */

.particles {
  position: fixed; inset: 0; z-index: 0;
  pointer-events: none; overflow: hidden;
}

.particle {
  position: absolute;
  bottom: -60px;
  animation: particle-rise linear infinite;
  user-select: none;
  font-style: normal;
}

@keyframes particle-rise {
  0%   { transform: translateY(0) rotate(0deg) scale(0.8); opacity: 0; }
  8%   { opacity: 1; }
  92%  { opacity: 1; }
  100% { transform: translateY(-110vh) rotate(540deg) scale(1.2); opacity: 0; }
}

/* ==========================================
   HEADER
   ========================================== */

.header {
  position: sticky; top: 0; z-index: 200;
  background: rgba(7,7,14,0.85);
  backdrop-filter: blur(20px) saturate(180%);
  border-bottom: 1px solid var(--border);
  padding: 0 24px;
}

.header-inner {
  max-width: 1120px; margin: 0 auto;
  height: 64px;
  display: flex; align-items: center; justify-content: space-between; gap: 16px;
}

.logo { display: flex; align-items: center; gap: 12px; }

.logo-icon {
  font-size: 28px;
  filter: drop-shadow(0 0 10px rgba(147,51,234,0.8));
  animation: mic-pulse 3s ease-in-out infinite;
}

@keyframes mic-pulse {
  0%, 100% { filter: drop-shadow(0 0 10px rgba(147,51,234,0.8)); }
  50%       { filter: drop-shadow(0 0 20px rgba(236,72,153,1)); }
}

.logo-words { display: flex; flex-direction: column; line-height: 1; }

.logo-text {
  font-size: 20px; font-weight: 800; letter-spacing: -0.5px;
  background: var(--grad); -webkit-background-clip: text;
  -webkit-text-fill-color: transparent; background-clip: text;
}

.logo-sub {
  font-size: 10px; font-weight: 500; letter-spacing: 2px;
  text-transform: uppercase; color: var(--muted); margin-top: 2px;
}

/* Keyboard hints */
.kbd-hints {
  font-size: 12px; color: var(--muted);
  display: flex; align-items: center; gap: 4px;
}

.kbd {
  display: inline-block;
  background: rgba(255,255,255,0.08);
  border: 1px solid rgba(255,255,255,0.12);
  border-radius: 5px;
  padding: 2px 6px;
  font-size: 11px; font-family: inherit;
  color: var(--text);
}

/* Equalizer */
.equalizer {
  display: none; align-items: flex-end; gap: 3px; height: 26px;
}
.equalizer.playing { display: flex; }

.eq-bar {
  width: 4px; border-radius: 2px;
  background: var(--grad);
  animation: eq-dance 0.7s ease-in-out infinite alternate;
  transform-origin: bottom;
}
.eq-bar:nth-child(1) { height: 8px;  animation-duration: 0.55s; animation-delay: 0s; }
.eq-bar:nth-child(2) { height: 18px; animation-duration: 0.80s; animation-delay: 0.1s; }
.eq-bar:nth-child(3) { height: 24px; animation-duration: 0.60s; animation-delay: 0.2s; }
.eq-bar:nth-child(4) { height: 14px; animation-duration: 0.95s; animation-delay: 0.05s; }
.eq-bar:nth-child(5) { height: 20px; animation-duration: 0.70s; animation-delay: 0.15s; }
.eq-bar:nth-child(6) { height: 10px; animation-duration: 0.85s; animation-delay: 0.25s; }
.eq-bar:nth-child(7) { height: 16px; animation-duration: 0.65s; animation-delay: 0.08s; }

@keyframes eq-dance {
  from { transform: scaleY(0.2); }
  to   { transform: scaleY(1); }
}

/* ==========================================
   HERO
   ========================================== */

.hero {
  text-align: center;
  padding: 80px 24px 64px;
  position: relative;
}

.hero::after {
  content: '';
  position: absolute;
  bottom: 0; left: 50%;
  transform: translateX(-50%);
  width: 80%; height: 1px;
  background: linear-gradient(90deg, transparent, rgba(147,51,234,0.3), transparent);
}

.hero-badge {
  display: inline-block;
  background: rgba(147,51,234,0.12);
  border: 1px solid rgba(147,51,234,0.35);
  color: #d8b4fe;
  font-size: 12px; font-weight: 600; letter-spacing: 0.8px;
  padding: 7px 18px; border-radius: 20px;
  margin-bottom: 24px;
  box-shadow: 0 0 20px rgba(147,51,234,0.15);
  animation: badge-glow 3s ease-in-out infinite;
}
@keyframes badge-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(147,51,234,0.15); }
  50%       { box-shadow: 0 0 30px rgba(236,72,153,0.25); }
}

.hero-title {
  font-size: clamp(32px, 6vw, 60px);
  font-weight: 900;
  letter-spacing: -2px;
  line-height: 1.1;
  color: var(--text);
  margin-bottom: 8px;
}

.hero-title-accent {
  background: var(--grad-3);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.hero-sub {
  font-size: 17px; font-weight: 400;
  color: var(--muted);
  margin-bottom: 40px;
}

/* ---- Search Bar ---- */

.search-form { max-width: 700px; margin: 0 auto 24px; }

.search-bar {
  display: flex; align-items: center; gap: 10px;
  background: var(--glass);
  backdrop-filter: blur(20px) saturate(180%);
  border: 1.5px solid var(--glass-border);
  border-radius: 60px;
  padding: 6px 6px 6px 22px;
  transition: border-color var(--transition), box-shadow var(--transition);
  box-shadow: var(--shadow), inset 0 1px 0 rgba(255,255,255,0.05);
}

.search-bar:focus-within {
  border-color: rgba(147,51,234,0.6);
  box-shadow: var(--shadow), var(--glow), inset 0 1px 0 rgba(255,255,255,0.05);
}

.search-icon { font-size: 18px; opacity: 0.5; flex-shrink: 0; }

.search-input {
  flex: 1; background: transparent; border: none; outline: none;
  color: var(--text); font-size: 16px; font-family: 'Outfit', sans-serif;
  font-weight: 500; padding: 12px 0;
}
.search-input::placeholder { color: var(--muted); font-weight: 400; }

.search-btn {
  background: var(--grad);
  color: #fff; border: none; border-radius: 50px;
  padding: 13px 28px;
  font-size: 15px; font-weight: 700; font-family: 'Outfit', sans-serif;
  cursor: pointer; display: flex; align-items: center; gap: 7px; flex-shrink: 0;
  transition: var(--transition);
  box-shadow: 0 4px 20px rgba(147,51,234,0.4);
}
.search-btn:hover  { background: var(--grad-h); transform: translateY(-1px); box-shadow: 0 6px 28px rgba(147,51,234,0.5); }
.search-btn:active { transform: translateY(0); }
.search-btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }

/* ---- Quick picks ---- */

.quick-picks {
  display: flex; align-items: center; flex-wrap: wrap;
  justify-content: center; gap: 8px;
}

.qp-label {
  font-size: 12px; font-weight: 700; letter-spacing: 1px; text-transform: uppercase;
  background: var(--grad);
  -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
}

.qp-chip {
  background: rgba(255,255,255,0.04);
  border: 1px solid rgba(255,255,255,0.09);
  color: var(--muted);
  font-size: 13px; font-weight: 500; font-family: 'Outfit', sans-serif;
  padding: 7px 16px; border-radius: 20px; cursor: pointer;
  transition: background 0.18s, color 0.18s, border-color 0.18s, transform 0.12s;
}
.qp-chip:hover {
  background: rgba(147,51,234,0.18);
  border-color: rgba(147,51,234,0.5);
  color: #e2b4ff;
  transform: translateY(-2px);
}

/* ==========================================
   CONTINUE SINGING (History)
   ========================================== */

.history-section { padding: 16px 0 36px; animation: fade-up 0.3s ease; }

.strip-heading {
  font-size: 11px; font-weight: 700; text-transform: uppercase;
  letter-spacing: 1.8px; color: var(--muted); margin-bottom: 14px;
  display: flex; align-items: center; gap: 8px;
}
.strip-heading::after {
  content: '';
  flex: 1; height: 1px;
  background: linear-gradient(90deg, var(--border), transparent);
}

.history-strip {
  display: flex; gap: 14px; overflow-x: auto; padding-bottom: 8px;
}

.history-card {
  flex-shrink: 0; width: 140px; cursor: pointer;
  border-radius: 12px; overflow: hidden;
  background: var(--glass);
  backdrop-filter: blur(12px);
  border: 1px solid var(--glass-border);
  transition: transform var(--transition), border-color var(--transition), box-shadow var(--transition);
}
.history-card:hover {
  transform: translateY(-4px);
  border-color: rgba(147,51,234,0.5);
  box-shadow: 0 8px 24px rgba(0,0,0,0.4), 0 0 16px rgba(147,51,234,0.15);
}
.history-card img { width: 100%; aspect-ratio: 16/9; object-fit: cover; display: block; }
.history-card-title {
  font-size: 11px; padding: 8px 9px; line-height: 1.4; color: var(--text);
  display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;
}

/* ==========================================
   PLAYER SECTION
   ========================================== */

.player-section { padding: 32px 0 0; animation: fade-up 0.35s ease; }

.player-container {
  background: var(--glass);
  backdrop-filter: blur(24px) saturate(180%);
  border: 1px solid var(--glass-border);
  border-radius: var(--radius);
  overflow: hidden;
  display: grid; grid-template-columns: 1fr 300px;
  box-shadow: var(--shadow), var(--glow-hot);
  position: relative;
}

/* animated gradient border on playing */
.player-container::before {
  content: '';
  position: absolute; inset: -1px;
  background: var(--grad-3);
  border-radius: inherit;
  z-index: -1;
  opacity: 0;
  transition: opacity 0.4s ease;
}
.player-container.playing::before { opacity: 1; }
.player-container.playing { border-color: transparent; }

.player-wrap {
  position: relative; width: 100%; padding-top: 56.25%; background: #000;
}
.player-wrap iframe,
.player-wrap #ytPlayer {
  position: absolute; top: 0; left: 0;
  width: 100% !important; height: 100% !important;
}

.player-info {
  padding: 28px 24px;
  display: flex; flex-direction: column; gap: 14px;
  border-left: 1px solid var(--border);
  background: rgba(0,0,0,0.2);
}

.now-playing-badge {
  display: inline-flex; align-items: center; gap: 8px;
  background: rgba(147,51,234,0.15);
  border: 1px solid rgba(147,51,234,0.35);
  color: #c084fc;
  font-size: 10px; font-weight: 800; letter-spacing: 2px;
  text-transform: uppercase; padding: 6px 12px; border-radius: 20px;
  width: fit-content;
}

.npb-dot {
  width: 7px; height: 7px; border-radius: 50%;
  background: #c084fc;
  animation: npb-blink 1.5s ease-in-out infinite;
  flex-shrink: 0;
}
@keyframes npb-blink { 0%, 100% { opacity: 1; } 50% { opacity: 0.2; } }

.player-title {
  font-size: 15px; font-weight: 700; line-height: 1.45; color: var(--text);
}
.player-channel { font-size: 13px; color: var(--muted); }

.player-nav {
  display: flex; gap: 8px; align-items: center;
}

.player-nav-btn {
  background: var(--glass);
  border: 1px solid var(--glass-border);
  color: var(--muted); font-size: 16px;
  width: 38px; height: 38px; border-radius: 50%;
  cursor: pointer; display: flex; align-items: center; justify-content: center;
  transition: background var(--transition), color var(--transition), border-color var(--transition);
}
.player-nav-btn:hover {
  background: rgba(147,51,234,0.2);
  border-color: rgba(147,51,234,0.5);
  color: #c084fc;
}
.player-nav-btn.shuffle-active { color: #c084fc; border-color: rgba(147,51,234,0.4); }

.player-actions { margin-top: auto; }

.close-player-btn {
  background: transparent;
  border: 1px solid var(--border);
  color: var(--muted); border-radius: var(--radius-sm);
  padding: 8px 14px; font-size: 13px; font-family: 'Outfit', sans-serif;
  cursor: pointer;
  transition: border-color var(--transition), color var(--transition);
}
.close-player-btn:hover { border-color: #EC4899; color: #EC4899; }

/* ==========================================
   LYRICS SECTION
   ========================================== */

.lyrics-section { padding: 20px 0 32px; animation: fade-up 0.4s ease; }

.lyrics-card {
  background: var(--glass);
  backdrop-filter: blur(20px) saturate(180%);
  border: 1px solid rgba(147,51,234,0.2);
  border-radius: var(--radius);
  overflow: hidden;
  box-shadow: var(--shadow), 0 0 50px rgba(147,51,234,0.08);
}

.lyrics-header {
  display: flex; align-items: center; justify-content: space-between;
  padding: 18px 24px;
  border-bottom: 1px solid var(--border);
  background: linear-gradient(135deg, rgba(147,51,234,0.08), rgba(236,72,153,0.05));
}

.lyrics-header-left { display: flex; align-items: center; gap: 14px; }

.lyrics-icon {
  font-size: 26px;
  filter: drop-shadow(0 0 8px rgba(147,51,234,0.7));
}

.lyrics-title {
  font-size: 16px; font-weight: 700;
  background: var(--grad);
  -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
}
.lyrics-artist { font-size: 13px; color: var(--muted); margin-top: 2px; }

.lyrics-expand-btn {
  background: rgba(147,51,234,0.12);
  border: 1px solid rgba(147,51,234,0.3);
  color: #c084fc; font-size: 12px; font-weight: 700;
  font-family: 'Outfit', sans-serif;
  padding: 7px 14px; border-radius: 20px; cursor: pointer;
  transition: background var(--transition), box-shadow var(--transition);
  letter-spacing: 0.3px;
}
.lyrics-expand-btn:hover {
  background: rgba(147,51,234,0.25);
  box-shadow: 0 0 16px rgba(147,51,234,0.3);
}

.lyrics-body {
  max-height: 380px; overflow-y: auto;
  padding: 24px; position: relative;
}
.lyrics-body::after {
  content: '';
  position: sticky; bottom: 0; left: 0; display: block;
  height: 56px; margin-top: -56px;
  background: linear-gradient(to bottom, transparent, rgba(12,12,20,0.95));
  pointer-events: none;
}

/* Skeleton */
.lyrics-skeleton {
  height: 13px;
  background: linear-gradient(90deg, rgba(255,255,255,0.05) 25%, rgba(147,51,234,0.1) 50%, rgba(255,255,255,0.05) 75%);
  background-size: 200% 100%;
  border-radius: 6px; margin-bottom: 11px;
  animation: shimmer 1.4s infinite;
}
.lyrics-skeleton.short  { width: 50%; }
.lyrics-skeleton.medium { width: 72%; }
@keyframes shimmer { from { background-position: 200% 0; } to { background-position: -200% 0; } }

/* Lyrics text */
.lyrics-text {
  font-size: 15px; line-height: 2; letter-spacing: 0.1px;
  color: #cccce8; white-space: pre-wrap; word-break: break-word;
  font-weight: 400;
}
.chorus-line {
  background: var(--grad);
  -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
  font-weight: 700; font-size: 16px;
}
.lyrics-not-found {
  text-align: center; padding: 40px 0; color: var(--muted);
}
.lyrics-not-found span { display: block; font-size: 40px; margin-bottom: 12px; opacity: 0.4; }

/* ==========================================
   SING MODE (fullscreen)
   ========================================== */

.sing-mode {
  position: fixed; inset: 0; z-index: 500;
  background: rgba(5, 5, 12, 0.97);
  backdrop-filter: blur(30px);
  display: flex; flex-direction: column;
  overflow: hidden;
}

.sing-close {
  position: absolute; top: 20px; right: 24px;
  background: rgba(255,255,255,0.08);
  border: 1px solid var(--glass-border);
  color: var(--muted); font-size: 16px;
  width: 40px; height: 40px; border-radius: 50%;
  cursor: pointer; display: flex; align-items: center; justify-content: center;
  transition: color var(--transition), background var(--transition);
  z-index: 10;
}
.sing-close:hover { background: rgba(236,72,153,0.2); color: #EC4899; }

.sing-header {
  padding: 28px 64px 20px;
  border-bottom: 1px solid var(--border);
  display: flex; flex-direction: column; gap: 4px;
  flex-shrink: 0;
}
.sing-title {
  font-size: 22px; font-weight: 800;
  background: var(--grad); -webkit-background-clip: text;
  -webkit-text-fill-color: transparent; background-clip: text;
}
.sing-artist { font-size: 14px; color: var(--muted); }

.sing-body {
  flex: 1; overflow-y: auto;
  padding: 40px 64px 80px;
  font-size: clamp(18px, 2.5vw, 24px);
  line-height: 2.2; color: #ddddf0;
  white-space: pre-wrap; font-weight: 400;
  letter-spacing: 0.2px;
}
.sing-body .chorus-line {
  font-size: clamp(20px, 2.8vw, 28px);
  background: var(--grad-3);
  -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
  font-weight: 800;
}

/* ==========================================
   RESULTS & TABS
   ========================================== */

.results-section { padding: 12px 0 80px; flex: 1; }

.results-controls {
  display: flex; align-items: center; justify-content: space-between;
  margin-bottom: 4px;
  border-bottom: 1px solid var(--border);
  padding-bottom: 0;
  flex-wrap: wrap; gap: 12px;
}

.tabs-bar { display: flex; gap: 4px; }

.tab {
  background: transparent; border: none;
  color: var(--muted); font-size: 14px; font-weight: 600; font-family: 'Outfit', sans-serif;
  padding: 12px 18px 14px; cursor: pointer;
  border-bottom: 2px solid transparent; position: relative; top: 1px;
  transition: color var(--transition), border-color var(--transition);
}
.tab:hover { color: var(--text); }
.tab.active { color: var(--text); border-bottom-color: var(--p1); }

.fav-count {
  display: inline-flex; align-items: center; justify-content: center;
  background: rgba(236,72,153,0.18); color: #f472b6;
  border-radius: 10px; font-size: 11px; padding: 1px 7px; margin-left: 4px;
}

.shuffle-all-btn {
  background: rgba(255,255,255,0.05);
  border: 1px solid var(--glass-border);
  color: var(--muted); font-size: 13px; font-weight: 600;
  font-family: 'Outfit', sans-serif;
  padding: 8px 16px; border-radius: 20px; cursor: pointer;
  transition: background var(--transition), color var(--transition), border-color var(--transition);
  align-self: center; margin-bottom: 2px;
}
.shuffle-all-btn:hover {
  background: rgba(147,51,234,0.15);
  border-color: rgba(147,51,234,0.4); color: #c084fc;
}

.results-header { margin: 16px 0; }
.results-title { font-size: 17px; font-weight: 700; color: var(--muted); }
.results-title span { color: var(--text); }

/* ---- Results Grid ---- */

.results-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 16px;
}

/* ---- Card ---- */

.card {
  background: var(--glass);
  backdrop-filter: blur(12px) saturate(180%);
  border: 1px solid var(--glass-border);
  border-radius: var(--radius);
  overflow: hidden; cursor: pointer;
  display: flex; flex-direction: column;
  position: relative;
  transition: transform var(--transition), border-color var(--transition), box-shadow var(--transition);
  animation: fade-up 0.3s ease both;
}
.card:hover {
  transform: translateY(-6px);
  border-color: rgba(147,51,234,0.6);
  box-shadow: 0 16px 48px rgba(0,0,0,0.6), 0 0 32px rgba(147,51,234,0.22), 0 0 0 1px rgba(147,51,234,0.1);
}
.card.active {
  border-color: var(--p1);
  box-shadow: 0 0 0 2px rgba(147,51,234,0.3), var(--glow-hot);
}

/* Track number badge */
.card-num {
  position: absolute; top: 8px; left: 8px; z-index: 2;
  background: rgba(0,0,0,0.65);
  backdrop-filter: blur(4px);
  color: rgba(255,255,255,0.55);
  font-size: 10px; font-weight: 700;
  padding: 3px 7px; border-radius: 6px;
}

/* Heart button */
.heart-btn {
  position: absolute; top: 8px; right: 8px; z-index: 2;
  background: rgba(0,0,0,0.6); backdrop-filter: blur(4px);
  border: none; border-radius: 50%;
  width: 32px; height: 32px; font-size: 15px;
  cursor: pointer; display: flex; align-items: center; justify-content: center;
  opacity: 0; transition: opacity var(--transition), transform var(--transition);
}
.heart-btn:hover  { transform: scale(1.2); }
.heart-btn.active { opacity: 1; }
.card:hover .heart-btn { opacity: 1; }

/* Thumbnail */
.card-thumb-wrap {
  position: relative; width: 100%; padding-top: 56.25%;
  overflow: hidden; background: #000;
}
.card-thumb {
  position: absolute; top: 0; left: 0; width: 100%; height: 100%;
  object-fit: cover; transition: transform 0.35s ease;
}
.card:hover .card-thumb { transform: scale(1.06); }

/* Play overlay */
.card-play-overlay {
  position: absolute; top: 50%; left: 50%;
  transform: translate(-50%, -50%);
  width: 48px; height: 48px;
  background: rgba(147,51,234,0.88);
  backdrop-filter: blur(4px);
  border-radius: 50%;
  display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 2px;
  opacity: 0; transition: opacity var(--transition);
  font-size: 20px; color: #fff;
}
.card:hover .card-play-overlay { opacity: 1; }

/* NOW SINGING overlay */
.card.active .card-play-overlay {
  opacity: 1;
  background: rgba(147,51,234,0.92);
  font-size: 9px; font-weight: 800; letter-spacing: 1.5px;
  text-transform: uppercase;
}

/* Card body */
.card-body {
  padding: 12px 14px 14px; flex: 1;
  display: flex; flex-direction: column; gap: 5px;
}
.card-title {
  font-size: 13px; font-weight: 600; line-height: 1.45; color: var(--text);
  display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;
}
.card-channel { font-size: 11.5px; color: var(--muted); margin-top: auto; }

/* staggered animation */
.card:nth-child(1)  { animation-delay: 0.03s; }
.card:nth-child(2)  { animation-delay: 0.06s; }
.card:nth-child(3)  { animation-delay: 0.09s; }
.card:nth-child(4)  { animation-delay: 0.12s; }
.card:nth-child(5)  { animation-delay: 0.15s; }
.card:nth-child(6)  { animation-delay: 0.18s; }
.card:nth-child(7)  { animation-delay: 0.21s; }
.card:nth-child(8)  { animation-delay: 0.24s; }
.card:nth-child(9)  { animation-delay: 0.27s; }
.card:nth-child(10) { animation-delay: 0.30s; }
.card:nth-child(11) { animation-delay: 0.33s; }
.card:nth-child(12) { animation-delay: 0.36s; }
.card:nth-child(13) { animation-delay: 0.39s; }
.card:nth-child(14) { animation-delay: 0.42s; }
.card:nth-child(15) { animation-delay: 0.45s; }
.card:nth-child(16) { animation-delay: 0.48s; }
.card:nth-child(17) { animation-delay: 0.51s; }
.card:nth-child(18) { animation-delay: 0.54s; }
.card:nth-child(19) { animation-delay: 0.57s; }
.card:nth-child(20) { animation-delay: 0.60s; }

/* ==========================================
   LOADING
   ========================================== */

.loading-overlay {
  text-align: center; padding: 100px 24px;
  position: relative; z-index: 1;
}

.loading-visual { display: inline-flex; flex-direction: column; align-items: center; gap: 20px; }

.loading-bars {
  display: flex; align-items: flex-end; gap: 5px; height: 48px;
}
.loading-bars span {
  display: block; width: 6px; border-radius: 3px;
  background: var(--grad);
  animation: eq-dance 0.7s ease-in-out infinite alternate;
}
.loading-bars span:nth-child(1) { height: 20px; animation-duration: 0.6s; animation-delay: 0s; }
.loading-bars span:nth-child(2) { height: 36px; animation-duration: 0.8s; animation-delay: 0.1s; }
.loading-bars span:nth-child(3) { height: 48px; animation-duration: 0.5s; animation-delay: 0.2s; }
.loading-bars span:nth-child(4) { height: 28px; animation-duration: 0.9s; animation-delay: 0.05s; }
.loading-bars span:nth-child(5) { height: 40px; animation-duration: 0.7s; animation-delay: 0.15s; }

.loading-text { color: var(--muted); font-size: 15px; font-weight: 500; }

/* ==========================================
   EMPTY / ERROR
   ========================================== */

.empty-state, .error-state {
  text-align: center; padding: 90px 24px;
  position: relative; z-index: 1;
  animation: fade-up 0.3s ease;
}
.empty-icon, .error-icon { display: block; font-size: 56px; margin-bottom: 18px; opacity: 0.45; }
.empty-state p {
  color: var(--muted); font-size: 16px; font-weight: 500;
}
.error-state p {
  color: #fca5a5; font-size: 15px; font-weight: 500;
  background: rgba(239,68,68,0.08);
  border: 1px solid rgba(239,68,68,0.2);
  display: inline-block; padding: 10px 20px; border-radius: 10px; margin-top: 4px;
}

/* ==========================================
   MINI PLAYER
   ========================================== */

.mini-player {
  position: fixed; bottom: 0; left: 0; right: 0; z-index: 300;
  background: rgba(9, 9, 20, 0.9);
  backdrop-filter: blur(28px) saturate(200%);
  border-top: 1px solid var(--border);
  padding: 10px 24px;
  display: flex; align-items: center; gap: 14px;
  box-shadow: 0 -8px 40px rgba(0,0,0,0.6);
  animation: mini-slide-in 0.3s ease;
}

@keyframes mini-slide-in {
  from { transform: translateY(100%); }
  to   { transform: translateY(0); }
}

/* gradient top border */
.mini-player::before {
  content: '';
  position: absolute; top: -1px; left: 0; right: 0; height: 2px;
  background: var(--grad);
  opacity: 0.7;
}

.mini-thumb {
  width: 50px; height: 50px; border-radius: 8px;
  object-fit: cover; flex-shrink: 0;
  border: 1px solid var(--glass-border);
}

.mini-info { flex: 1; min-width: 0; }
.mini-title {
  font-size: 13px; font-weight: 600; color: var(--text);
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}
.mini-channel { font-size: 11px; color: var(--muted); margin-top: 2px; }

.mini-controls { display: flex; align-items: center; gap: 6px; }

.mini-btn {
  background: rgba(255,255,255,0.07);
  border: 1px solid var(--glass-border);
  color: var(--muted); font-size: 16px;
  width: 36px; height: 36px; border-radius: 50%;
  cursor: pointer; display: flex; align-items: center; justify-content: center;
  transition: background var(--transition), color var(--transition);
}
.mini-btn:hover { background: rgba(147,51,234,0.2); color: #c084fc; }
.mini-btn.mini-play { background: var(--grad); color: #fff; border-color: transparent; font-size: 18px; }
.mini-btn.mini-play:hover { opacity: 0.85; }

.mini-back-btn {
  background: transparent;
  border: 1px solid var(--glass-border);
  color: var(--muted); font-size: 12px; font-weight: 600;
  font-family: 'Outfit', sans-serif;
  padding: 7px 14px; border-radius: 20px; cursor: pointer; flex-shrink: 0;
  transition: color var(--transition), border-color var(--transition);
}
.mini-back-btn:hover { color: #c084fc; border-color: rgba(147,51,234,0.4); }

/* ==========================================
   TOASTS
   ========================================== */

.toast-container {
  position: fixed; bottom: 76px; right: 24px; z-index: 400;
  display: flex; flex-direction: column; gap: 8px; align-items: flex-end;
}

/* shift up when mini player is hidden */
.toast-container.no-mini { bottom: 24px; }

.toast {
  background: rgba(15,15,28,0.95);
  backdrop-filter: blur(16px);
  border: 1px solid var(--glass-border);
  border-left: 3px solid var(--p1);
  border-radius: 10px; padding: 12px 16px;
  font-size: 13px; font-weight: 500; color: var(--text);
  max-width: 280px; line-height: 1.4;
  box-shadow: var(--shadow);
  animation: toast-in 0.25s ease;
}
.toast.fav     { border-left-color: #EC4899; }
.toast.upnext  { border-left-color: #06B6D4; }
.toast.success { border-left-color: #10B981; }

@keyframes toast-in  { from { opacity:0; transform:translateX(16px); } to { opacity:1; transform:translateX(0); } }
@keyframes toast-out { from { opacity:1; transform:translateX(0); } to { opacity:0; transform:translateX(16px); } }
.toast.dismissing { animation: toast-out 0.2s ease forwards; }

/* ==========================================
   FOOTER
   ========================================== */

.footer {
  border-top: 1px solid var(--border);
  padding: 20px 24px;
  text-align: center; font-size: 12px; color: var(--muted);
  margin-bottom: 0; position: relative; z-index: 1;
}

/* ==========================================
   ANIMATIONS
   ========================================== */

@keyframes fade-up {
  from { opacity: 0; transform: translateY(18px); }
  to   { opacity: 1; transform: translateY(0); }
}

/* ==========================================
   RESPONSIVE
   ========================================== */

@media (max-width: 960px) {
  .results-grid { grid-template-columns: repeat(3, 1fr); }
  .player-container { grid-template-columns: 1fr; }
  .player-info { border-left: none; border-top: 1px solid var(--border); }
}

@media (max-width: 640px) {
  .results-grid { grid-template-columns: repeat(2, 1fr); }
  .kbd-hints { display: none; }
  .hero { padding: 56px 16px 48px; }
  .section-wrap { padding: 0 16px; }
  .mini-back-btn { display: none; }
  .sing-body, .sing-header { padding-left: 24px; padding-right: 24px; }
}

@media (max-width: 400px) {
  .results-grid { grid-template-columns: 1fr; }
}

/* ==========================================
   TRENDING CHIPS (dynamic quick-picks)
   ========================================== */

.qp-chips {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

/* ==========================================
   RECOMMENDATIONS
   ========================================== */

.rec-section { padding: 0 0 8px; animation: fade-up 0.3s ease; }

.rec-loading {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 4px 0 12px;
}

.rec-dot {
  width: 8px; height: 8px; border-radius: 50%;
  background: var(--grad);
  animation: rec-bounce 1s ease-in-out infinite;
}
.rec-dot:nth-child(2) { animation-delay: 0.15s; }
.rec-dot:nth-child(3) { animation-delay: 0.3s; }

@keyframes rec-bounce {
  0%, 100% { transform: translateY(0); opacity: 0.4; }
  50%       { transform: translateY(-6px); opacity: 1; }
}

.rec-chips {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
}

.rec-chip {
  position: relative;
  background: rgba(147,51,234,0.1);
  border: 1px solid rgba(147,51,234,0.3);
  color: #d8b4fe;
  border-radius: 999px;
  padding: 9px 20px;
  font-size: 13px;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.18s, border-color 0.18s, transform 0.14s, box-shadow 0.18s;
  font-family: inherit;
  letter-spacing: 0.1px;
}

.rec-chip:hover {
  background: rgba(147,51,234,0.24);
  border-color: rgba(147,51,234,0.65);
  color: #ede9fe;
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(147,51,234,0.25);
}

/* ==========================================
   AI BADGE
   ========================================== */

.ai-badge {
  display: inline-block;
  margin-left: 8px;
  background: linear-gradient(135deg, #7c3aed, #a855f7);
  color: #fff;
  font-size: 10px;
  font-weight: 700;
  letter-spacing: 0.5px;
  padding: 2px 7px;
  border-radius: 999px;
  vertical-align: middle;
  box-shadow: 0 0 10px rgba(147,51,234,0.4);
}
